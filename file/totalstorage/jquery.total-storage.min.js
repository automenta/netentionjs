;(function($){function trace(m){try{console.log(m);}catch(e){}}
var ls;var supported=true;if(typeof localStorage=='undefined'||typeof JSON=='undefined'){supported=false;}else{ls=localStorage;}
$.totalStorage=function(key,value,options){return $.totalStorage.impl.init(key,value);}
$.totalStorage.setItem=function(key,value){return $.totalStorage.impl.setItem(key,value);}
$.totalStorage.getItem=function(key){return $.totalStorage.impl.getItem(key);}
$.totalStorage.getAll=function(){return $.totalStorage.impl.getAll();}
$.totalStorage.impl={init:function(key,value){if(typeof value!='undefined'){return this.setItem(key,value);}else{return this.getItem(key);}},setItem:function(key,value){if(!supported){try{$.cookie(key,value);return true;}catch(e){trace('Local Storage not supported by this browser. Install the cookie plugin on your site to take advantage of the same functionality');}}
var saver=JSON.stringify(value);ls.setItem(key,saver);return saver;},getItem:function(key){if(!supported){try{return this.parseResult($.cookie(key));}catch(e){return null;}}
return this.parseResult(ls.getItem(key));},getAll:function(){var items=new Array();if(!supported){try{}catch(e){return null;}}
for(var i in ls){if(i.length){items.push({key:i,value:this.parseResult(ls.getItem(i))});}}
return items;},parseResult:function(res){var ret;try{ret=JSON.parse(res);if(ret=='true'){ret=true;}
if(ret=='false'){ret=false;}
if(parseFloat(ret)==ret){ret=parseFloat(ret);}}catch(e){}
return ret;}}})(jQuery);